"use strict";

var _button = require("@dhis2-ui/button");

var _enzyme = require("enzyme");

var _react = _interopRequireDefault(require("react"));

var _accessSelect = require("../access-select.js");

var _autocomplete = require("../autocomplete/autocomplete.js");

var _shareBlock = require("../share-block.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('SharingDialog widget - ShareBlock component', () => {
  let shallowShareBlockComponent;
  let props;
  const onAdd = jest.fn();

  const getShareBlockComponent = props => {
    if (!shallowShareBlockComponent) {
      shallowShareBlockComponent = (0, _enzyme.shallow)( /*#__PURE__*/_react.default.createElement(_shareBlock.ShareBlock, props));
    }

    return shallowShareBlockComponent;
  };

  beforeEach(() => {
    shallowShareBlockComponent = undefined;
    props = {
      onAdd
    };
  });
  it('renders the Autocomplete component ', () => expect(getShareBlockComponent(props).find(_autocomplete.Autocomplete)).toHaveLength(1));
  it('renders the AccessSelect component', () => expect(getShareBlockComponent(props).find(_accessSelect.AccessSelect)).toHaveLength(1));
  it('renders the Give access button', () => {
    const button = getShareBlockComponent(props).find(_button.Button);
    expect(button).toHaveLength(1);
    expect(button.html()).toMatch('Give access');
  });
});