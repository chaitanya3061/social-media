"use strict";

var _steps = require("cypress-cucumber-preprocessor/steps");

var _index = require("../common/index.js");

(0, _steps.Given)('there are 5 apps available to the user', () => {
  cy.get('@modulesFixture').then(fx => {
    cy.route({
      url: `${_index.webCommons}menu/getModules.action`,
      response: { ...fx,
        modules: fx.modules.slice(0, 5)
      }
    }).as('modules');
  });
});
(0, _steps.When)('the user clicks on the menu icons', () => {
  cy.get('[data-test="headerbar-apps-icon"]').click();
});
(0, _steps.Then)('the menu opens', () => {
  cy.get('[data-test="headerbar-apps-menu"]').should('be.visible');
});
(0, _steps.Then)('contains 5 items with links', () => {
  cy.get('[data-test="headerbar-apps-menu-list"]').find('a').should('have.length', 5);
});